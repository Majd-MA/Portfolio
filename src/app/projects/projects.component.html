<div class="content-container">
  <div class="filter">
    <div class="filter-placeholder">
      <div id="filter_icon">
        <img src="https://res.cloudinary.com/dxgro47nn/image/upload/v1726373447/black-filter-icon_nnpjnv.png"
             alt="filter_icon" width="20" height="20">
      </div>
    </div>
    <div class="filter-bar" (click)="toggleFilterPopup()">


      <div class="filter-tooltip" *ngIf="showTip">

        <span class="close-tip" (click)="hideTip()">Helps you filter projects</span>
      </div>

      <div *ngIf="selectedTags.length > 0" class="tag-container">
        <div *ngFor="let tag of selectedTags" class="filter-tag">
          {{ tag }}
        </div>
      </div>


    </div>

  </div>

  <div class="filter-popup" *ngIf="isPopupVisible">

    <div class="filter-section">
      <h3>Framework</h3>
      <div class="filter-options">

        <span
          class="filter-option"
          *ngFor="let framework of frameworks"
          [ngClass]="{ 'active': isSelected(framework) }"
          (click)="toggleTag(framework)"
        >
        {{ framework }}
      </span>

      </div>
    </div>

    <div class="filter-section">
      <h3>Programming Language</h3>
      <div class="filter-options">

        <span
          class="filter-option"
          *ngFor="let programmingLanguage of programmingLanguages"
          [ngClass]="{ 'active': isSelected(programmingLanguage) }"
          (click)="toggleTag(programmingLanguage)"
        >
        {{ programmingLanguage }}
      </span>

      </div>
    </div>

    <div class="filter-section">
      <h3>Database</h3>
      <div class="filter-options">

        <span
          class="filter-option"
          *ngFor="let database of databases"
          [ngClass]="{ 'active': isSelected(database) }"
          (click)="toggleTag(database)"
        >
        {{ database }}
      </span>

      </div>
    </div>
  </div>

  <section class="projects-section">
    <div class="projects-grid">
      <div class="project-card" *ngFor="let project of filteredProjects">
        <a [routerLink]="['/projects', project.id]">
          <img ngSrc="{{project.thumbnail}}" alt="{{project.title}}" class="project-image" height="400" width="400" priority/>
          <h3 class="project-name">{{ project.title }}</h3>
          <p class="project-description">{{ project.brief }}</p>
        </a>
      </div>
    </div>
  </section>
</div>
